<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>User Profile</title>
  <link rel="stylesheet" href="assets/css/style.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"/>
  <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
/>


  <style>
    .dropdown-submenu {
      position: relative;
    }
    .dropdown-submenu .dropdown-menu {
      top: 0;
      left: 100%;
      margin-top: -1px;
      display: none;
      position: absolute;
    }
    .dropdown-submenu:hover .dropdown-menu {
      display: block;
    }
  </style>
</head>
<body>

<div class="container mt-4">
  <!-- Dropdown Button -->
  <div class="text-end mb-3">
    <div class="dropdown">
      <button class="btn btn-outline-primary dropdown-toggle" type="button" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
        Profile Options
      </button>
      <ul class="dropdown-menu" aria-labelledby="profileDropdown">
        <li><a class="dropdown-item" href="edit-profile.html">Edit Profile</a></li>
        <li class="dropdown-submenu">
          <a class="dropdown-item dropdown-toggle" href="#">Upload</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="upload-post.html">Upload Post</a></li>
            <li><a class="dropdown-item" href="upload-video.html">Upload Video</a></li>
          </ul>
        </li>
        <li class="dropdown-submenu dropend">
      <a class="dropdown-item dropdown-toggle" href="#">Delete</a>
      <ul class="dropdown-menu">
        <li><a class="dropdown-item" href="delete-post.html">Post</a></li>
        <li><a class="dropdown-item" href="delete-video.html">Video</a></li>
      </ul>
    </li>
        <li><a class="dropdown-item" href="index.html">Homepage</a></li>
        <li><a class="dropdown-item" href="login.html" id="logoutBtn">Logout</a></li>
      </ul>
    </div>
  </div>

  <div class="profile-container border rounded p-4 shadow-sm">
    <!-- User Profile Info -->
    <div class="profile-header d-flex align-items-center mb-4">
      <img id="profile-picture" src="assets/images/default-user.jpg" alt="Profile Picture" class="profile-img me-3" style="width:100px; height:100px; object-fit:cover; border-radius:50%;"/>
      <div class="profile-info">
        

        <h2 id="user-name">Loading...</h2>
        <p id="user-bio" class="text-muted">Loading bio...</p>
        <p><strong>Username:</strong> <span id="user-username">Loading...</span></p>
        <p><strong>Email:</strong> <span id="user-email">Loading...</span></p>
        <p><strong>Role:</strong> <span id="user-role">Loading...</span></p>
        <p><strong>Portfolio:</strong> <a href="#" id="user-portfolio" target="_blank">Loading...</a></p>
        <div class="follow-stats mt-2">
  <a href="#" id="follower-link"><span id="follower-count">0</span> followers</a> ‚Ä¢ 
<a href="#" id="following-link"><span id="following-count">0</span> following</a>

</div>


      </div>
    </div>

   <!-- Follower/Following Modal -->
<div class="modal fade" id="followModal" tabindex="-1" aria-labelledby="followModalLabel" aria-hidden="true"> 
  <div class="modal-dialog modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="followModalLabel">Loading...</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="followModalBody">
        <!-- List will be populated here -->
      </div>
    </div>
  </div>
</div>






    <!-- Skills Section -->
    <div class="mb-4">
      <h5>Skills</h5>
      <div id="user-skills" class="d-flex flex-wrap gap-2">
        <span class="text-muted">Loading...</span>
      </div>
    </div>

    <!-- Tab Navigation -->
    <div class="tabs mb-3">
      <button class="tab-btn active btn btn-primary me-2" data-tab="posts">Posts</button>
      <button class="tab-btn btn btn-outline-primary me-2" data-tab="videos">Videos</button>
      <button class="tab-btn btn btn-outline-primary" data-tab="chat">Chat</button>
      
    </div>

    <!-- Posts Section -->
    <div id="posts" class="tab-content">
      <div class="post-grid" id="user-posts">
        <!-- Posts will be dynamically loaded -->
      </div>
    </div>

    <!-- Videos Section -->
    <div id="videos" class="tab-content hidden">
      <div class="video-grid" id="user-videos">
        <!-- Videos will be dynamically loaded -->
      </div>
    </div>
     
    

</div>

<!-- Reel View Modal -->
<div id="reelView" class="reel-hidden">
  <div class="reel-content">
    <span id="reelCloseBtn">‚úï</span>
    <div id="reelMediaContainer"></div>
    <p id="reelCaption"></p>
    <p id="reelUser"></p>

    <div class="reel-actions" id="reelActions">
      <div class="like-wrapper">
        <span id="reelLikeBtn" class="like-icon">ü§ç</span>
        <span id="reelLikeCount" class="like-count">0</span>
      </div>
      <div class="comment-wrapper">
        <span id="reelCommentBtn" class="comment-icon">üí¨</span>
        <span id="reelCommentCount" class="comment-count">0</span>
      </div>
        <div class="share-wrapper">
    <span id="reelShareBtn" class="share-icon" title="Share">
      <i class="fa-solid fa-paper-plane"></i>
    </span>
  </div>
  </div>
      

    <div id="reelCommentsContainer" class="reel-comments-container hidden">
      <div id="reelCommentsList" class="reel-comments">
        <p>Loading comments...</p>
      </div>
      <div class="reel-comment-input">
        <input type="text" id="reelCommentInput" placeholder="Add a comment..." />
        <button id="reelCommentSubmit">Post</button>
      </div>
    </div>
  </div>
</div>


<!-- ‚úÖ Share Modal -->
<div id="shareModal" class="custom-modal-overlay hidden">
  <div class="custom-modal-content">
    <span class="custom-close-button" id="closeShareModal">&times;</span>
    <h2>Share</h2>

    

    <textarea id="shareMessage" placeholder="Add a message (optional)..."></textarea>

    <h3>Send to Followers</h3>
    <div id="followersList" class="followers-list">
      <p>Loading followers...</p>
    </div>

    <h3>Share Externally</h3>
    <div class="external-share-icons">
      <span id="copyLinkBtn" title="Copy Link"><i class="fas fa-link"></i></span>
      <a href="#" id="whatsappShare" target="_blank"><i class="fab fa-whatsapp"></i></a>
      <a href="#" id="twitterShare" target="_blank"><i class="fab fa-x-twitter"></i></a>
      <a href="#" id="facebookShare" target="_blank"><i class="fab fa-facebook"></i></a>
      <a href="#" id="linkedinShare" target="_blank"><i class="fab fa-linkedin"></i></a>
    </div>

    <div class="modal-actions">
      <button id="cancelShare">Cancel</button>
      <button id="sendShare">Send</button>
    </div>
  </div>
</div>



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="js/profile.js"></script>



<script>
  document.getElementById("logoutBtn").addEventListener("click", function () {
    localStorage.removeItem("token");
    window.location.href = "login.html";
  });
</script>
</body>
</html>
